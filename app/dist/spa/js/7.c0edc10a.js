(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1403:function(e,t,n){"use strict";n.r(t);var s=n("bd4c"),o=n("b462"),a=n.n(o),c=n("4059"),i=n.n(c),r=n("8055");const l=n.n(r)()("http://localhost:3030",{transports:["websocket"]});var d=a()().configure(i()(l)),m={data:()=>({messagaeToSend:"",messages:[{text:"Hello World",createdAt:"20200101"}]}),computed:{connected:function(){return d.service("messages").connection.connected}},methods:{messageSend:function(){console.group("messageSend"),console.log("messagaeToSend",this.messagaeToSend);const e=d.service("messages");e.connection.connected?(e.create({text:this.messagaeToSend}),this.messagaeToSend="",console.log("send.")):console.log("connection offline."),console.groupEnd()}},mounted:function(){console.log("PageIndex mounted.");const e=d.service("messages");e.on("created",e=>{console.log("message created",this.messages),this.messages=this.messages.concat(e)}),e.find({query:{$sort:{createdAt:-1},$limit:25}}).then(e=>{console.log("messageService.find then",e),this.messages=e.data}).catch(e=>{console.log("messageService.find catch",e)})},filters:{pretty:function(e){let t=e;try{t=JSON.parse(e)}catch(e){}return JSON.stringify(t,null,4)},prettyDateTime:function(e){return s.a.formatDate(e,"HH:mm DD.MM.YYYY")}},name:"PageIndex"},u=n("2877"),g=n("9989"),p=n("8169"),f=n("27f9"),y=n("0016"),h=n("9c40"),S=n("714f"),k=n("eebe"),v=n.n(k),x=Object(u.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("section",{staticClass:"q-pa-md row justify-center"},[n("div",{staticStyle:{width:"100%","max-width":"400px"}},e._l(e.messages,(function(t){return n("q-chat-message",{key:t.id,attrs:{text:[t.text],stamp:e._f("prettyDateTime")(t.createdAt)}})})),1)]),n("section",[n("pre",{staticStyle:{"font-size":"0.5em"}},[e._v(e._s(e._f("pretty")(e.messages)))])]),n("section",[n("q-input",{attrs:{filled:"",label:"Send Message"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.messageSend()}},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",style:{opacity:""!==e.messagaeToSend?"inherit":"0.1"},attrs:{name:"close"},on:{click:function(t){e.messagaeToSend=""}}})]},proxy:!0},{key:"after",fn:function(){return[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{round:"",dense:"",flat:"",icon:"send",disable:!e.connected},on:{click:function(t){return e.messageSend()}}})]},proxy:!0}]),model:{value:e.messagaeToSend,callback:function(t){e.messagaeToSend=t},expression:"messagaeToSend"}})],1)])}),[],!1,null,null,null);t.default=x.exports;v()(x,"components",{QPage:g.a,QChatMessage:p.a,QInput:f.a,QIcon:y.a,QBtn:h.a}),v()(x,"directives",{Ripple:S.a})}}]);
//# sourceMappingURL=7.c0edc10a.js.map