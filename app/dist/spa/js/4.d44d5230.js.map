{"version":3,"sources":["webpack:///./src/pages/Extended.vue?b4b2","webpack:///src/pages/Extended.vue","webpack:///./src/pages/Extended.vue?417d","webpack:///./src/store/mapBind.js","webpack:///./src/pages/Extended.vue"],"names":["base","params","map","mapState","result","key","value","Object","entries","get","set","val","mutationName","string","charAt","toUpperCase","slice","this","$store","commit","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","globalMessage","package_selected","package_options","_l","entry","_id","name","description","staticStyle","msg","id","attrs","text","_f","createdAt","on","$event","type","indexOf","_k","keyCode","messageSend","scopedSlots","_u","fn","style","opacity","messageText","proxy","directives","rawName","connected","model","callback","$$v","expression","QPage","QChatMessage","QInput","QIcon","QBtn","Ripple"],"mappings":"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","file":"js/4.d44d5230.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"fit column no-wrap justify-center items-center content-center\"},[_c('section',[_vm._v(\"\\n        '\"+_vm._s(_vm.globalMessage)+\"'\"),_c('br'),_vm._v(\"\\n        '\"+_vm._s(_vm.package_selected)+\"'\"),_c('br'),_vm._v(\"\\n        '\"+_vm._s(_vm.package_options)+\"'\"),_c('br')]),_c('section',[_c('ul',_vm._l((_vm.myObjectList),function(entry){return _c('li',{key:entry._id},[_vm._v(\"\\n                \"+_vm._s(entry.name)+\": \"+_vm._s(entry.value)+\" \"),_c('br'),_vm._v(\"\\n                \"+_vm._s(entry.description)+\"\\n            \")])}),0)]),_c('section',{staticClass:\"q-pa-md row justify-center\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"max-width\":\"400px\"}},_vm._l((_vm.messages),function(msg){return _c('q-chat-message',{key:msg.id,attrs:{\"text\":[msg.text],\"stamp\":_vm._f(\"prettyDateTime\")(msg.createdAt)}})}),1)]),_c('section',[_c('q-input',{attrs:{\"filled\":\"\",\"label\":\"Send Message\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.messageSend()}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",style:({opacity: (_vm.messageText !== '' ? 'inherit' : '0.1')}),attrs:{\"name\":\"close\"},on:{\"click\":function($event){_vm.messageText = ''}}})]},proxy:true},{key:\"after\",fn:function(){return [_c('q-btn',{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{\"round\":\"\",\"dense\":\"\",\"flat\":\"\",\"icon\":\"send\",\"disable\":!_vm.connected},on:{\"click\":function($event){return _vm.messageSend()}}})]},proxy:true}]),model:{value:(_vm.messageText),callback:function ($$v) {_vm.messageText=$$v},expression:\"messageText\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <q-page class=\"fit column no-wrap justify-center items-center content-center\">\n        <section>\n            '{{ globalMessage }}'<br>\n            '{{ package_selected }}'<br>\n            '{{ package_options }}'<br>\n        </section>\n        <section>\n            <ul>\n                <li v-for=\"entry in myObjectList\" :key=\"entry._id\">\n                    {{ entry.name }}: {{ entry.value }} <br>\n                    {{ entry.description }}\n                </li>\n            </ul>\n        </section>\n        <section class=\"q-pa-md row justify-center\">\n            <div style=\"width: 100%; max-width: 400px\">\n                <q-chat-message\n                v-for=\"msg in messages\"\n                :key=\"msg.id\"\n                :text=\"[msg.text]\"\n                :stamp=\"msg.createdAt | prettyDateTime\"\n                />\n            </div>\n        </section>\n        <!-- <section\n            style=\"\n            min-width: 4em;\n            min-height: 2em;\n            background-color: hsla(230.1, 100%, 50%, 0.05);\n            border-radius: 0.5em;\n            box-shadow: 0 0 20px hsla(200, 100%, 50%, 0.2);\n            margin: 1em;\n            font-size: 0.6em;\n            \"\n        >\n            <pre>{{ messages | pretty }}</pre>\n        </section> -->\n        <section>\n            <q-input\n            filled\n            label=\"Send Message\"\n            v-model=\"messageText\"\n            @keyup.enter=\"messageSend()\"\n            >\n                <template v-slot:append>\n                    <q-icon\n                    :style=\"{opacity: (messageText !== '' ? 'inherit' : '0.1')}\"\n                    name=\"close\"\n                    @click=\"messageText = ''\"\n                    class=\"cursor-pointer\"\n                    />\n                </template>\n                <template v-slot:after>\n                    <q-btn\n                    round\n                    v-ripple\n                    dense\n                    flat\n                    icon=\"send\"\n                    :disable=\"!connected\"\n                    @click=\"messageSend()\"\n                    />\n                </template>\n            </q-input>\n        </section>\n    </q-page>\n</template>\n\n<script>\nimport { date } from 'quasar'\nimport { makeFindMixin } from 'feathers-vuex'\n// import { useFind } from 'feathers-vuex'\nimport { mapBind } from '../store/mapBind.js'\n\nexport default {\n    data () {\n        return {\n            messageText: ''\n            // messages: [{\n            //     text: 'Hello World',\n            //     createdAt: '20200101'\n            // }]\n        }\n    },\n    mixins: [\n        makeFindMixin({ service: 'messages' }),\n        makeFindMixin({ service: 'my-object-list' })\n    ],\n    computed: {\n        connected: function () {\n            console.log('computed: connected this', this)\n            // return api.service('messages').connection.connected\n            return true\n        },\n        ...mapBind('appconfig', ['globalMessage', 'package_selected', 'package_options']),\n        // ...mapBind('globalconfig', ['gInfo', 'weight_current'])\n        messagesParams () {\n            return { query: {} }\n        },\n        myObjectListParams () {\n            return { query: {} }\n        }\n    },\n    methods: {\n        messageSend: function () {\n            // console.group('messageSend')\n            // console.log('messageText', this.messageText)\n            // console.log('messageSend this', this)\n            // console.log('this.messages', this.messages)\n            // console.log('this.$store', this.$store)\n\n            // this does not work:\n            // the computed messages prooertie has no setter\n            // this.messages = this.messages.concat(this.messageText)\n\n            const { Message } = this.$FeathersVuex.api\n            const message = new Message({ text: this.messageText })\n            message.save()\n            // console.log('message', message)\n\n            // console.groupEnd()\n        }\n    },\n    filters: {\n        pretty: function (value) {\n            let valueJson = value\n            try {\n                valueJson = JSON.parse(value)\n            } catch (e) {\n                // console.log(value, e)\n            }\n            return JSON.stringify(valueJson, null, 4)\n        },\n        prettyDateTime: function (value) {\n            return date.formatDate(value, 'HH:mm DD.MM.YYYY')\n        }\n    },\n    name: 'PageExtended'\n}\n</script>\n","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Extended.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Extended.vue?vue&type=script&lang=js&\"","// inspired by https://stackoverflow.com/a/48447361/574981\n\nimport { mapState } from 'vuex'\n\n// export const mapBind = (base, params = {}) => (\n// export const mapBind = (base, params) => (\nexport const mapBind = function (base, params) {\n    // helper function for vuex\n    // create setter and getter functions for given store and properties\n    function capitalizeFirstLetter (string) {\n        // https://stackoverflow.com/questions/1026069/how-do-i-make-the-first-letter-of-a-string-uppercase-in-javascript\n        return string.charAt(0).toUpperCase() + string.slice(1)\n    }\n\n    const map = mapState(base, params)\n    const result = {}\n    // console.log(map)\n    for (const [key, value] of Object.entries(map)) {\n        // console.log('key', key)\n        // console.log('value', value)\n        result[key] = {\n            get: value\n        }\n        result[key].set = function (val) {\n            // this.$store.commit('appconfig/setGlobalMessage', val)\n            const mutationName = 'set' + capitalizeFirstLetter(key)\n            this.$store.commit(base + '/' + mutationName, val)\n        }\n    }\n    // console.log(result)\n    return result\n// )\n}\n\n// ------------------------------------------\n// usage:\n// import { mapBinder } from 'store/mapBind.js';\n//\n// export default {\n//     name: 'ComponentName',\n//     computed: {\n//         ...mapBinder('appconfig', ['globalMessage', 'someOtherThing'])\n//     },\n// }\n","import { render, staticRenderFns } from \"./Extended.vue?vue&type=template&id=324302cc&\"\nimport script from \"./Extended.vue?vue&type=script&lang=js&\"\nexport * from \"./Extended.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QChatMessage from 'quasar/src/components/chat/QChatMessage.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';import Ripple from 'quasar/src/directives/Ripple.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QPage,QChatMessage,QInput,QIcon,QBtn});qInstall(component, 'directives', {Ripple});\n"],"sourceRoot":""}