(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{b41f:function(e,o,n){"use strict";n.r(o);var t=n("9e62"),i={data:()=>({serialDeviceInt:"/dev/ttyUSB42"}),mixins:[Object(t.b)({service:"global-config"})],computed:{globalConfigParams:()=>({query:{}}),serialDevice:{get:()=>null,set(e){console.group("serialDevice set"),console.log("val",e);new(0,this.$FeathersVuex.api.GlobalConfig)({id:"serialDevice",name:"serialDevice",value:e}).save().then(()=>{console.log("saveGC save: done.")}).catch(e=>{console.error("saveGC save: "+e.message,e)}),console.groupEnd()}}},methods:{globalConfigLoadFromServer:function(){console.log("TODO: implement load from server"),this.$axios.get("/config/global-config.json").then(e=>{console.log("response.data",e.data),this.$q.notify({color:"info",message:"Loaded config from server. Processing now.",icon:"info"}),this.$q.notify({color:"positive",message:"done.",icon:"info"})}).catch(()=>{this.$q.notify({color:"negative",message:"Loading failed",icon:"report_problem"})})},testDev:function(e){console.group("testDev");const o=this.$FeathersVuex.api.GlobalConfig;console.log("this",this),console.log("val",e),console.log("useGet");const{item:n}=Object(t.c)({model:o,id:"serialDevice"});console.log("gcEntry",n),n.value&&(console.log("gcEntry.value",n.value),console.log("gcEntry.value.value",n.value.value),console.log("gcEntry.value.name",n.value.name),console.log("gcEntry.value.id",n.value.id)),console.groupEnd()},saveGC:function(e,o){console.group("saveGC");const n=this.$FeathersVuex.api.GlobalConfig;console.log("this",this),console.log("configName",e),console.log("val",o),console.log("new ModelClass");const t=new n({id:e,name:e,value:o,description:"testDev - "+o+" - new entry"});t.save().then(()=>{console.log("saveGC save: done.")}).catch(e=>{console.error("saveGC save: "+e.message,e)}),console.log("gcEntryNew",t),console.log("gcEntryNew.value",t.value),console.groupEnd()}},filters:{pretty:function(e){let o=e;try{o=JSON.parse(e)}catch(e){}return JSON.stringify(o,null,4)}},name:"PageSettings"},s=n("2877"),l=n("9989"),a=n("9c40"),c=n("27f9"),r=n("0016"),v=n("714f"),g=n("eebe"),u=n.n(g),p=Object(s.a)(i,(function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("q-page",{staticClass:"fit column no-wrap justify-center items-center content-center"},[n("h1",[e._v("Global Settings")]),n("section",[n("q-btn",{attrs:{round:"",color:e.$q.dark.isActive?"blue":"black",icon:"mdi-lightbulb-on-outline"},on:{click:function(o){return e.$q.dark.toggle()}}})],1),n("section",{staticStyle:{"min-width":"4em","min-height":"2em","background-color":"hsla(230.1, 100%, 50%, 0.05)","border-radius":"0.5em","box-shadow":"0 0 20px hsla(200, 100%, 50%, 0.2)",margin:"1em"}},[n("pre",[e._v(e._s(e._f("pretty")(e.globalConfig)))])]),n("section",{staticStyle:{"min-width":"4em","min-height":"2em","background-color":"hsla(230.1, 100%, 50%, 0.05)","border-radius":"0.5em","box-shadow":"0 0 20px hsla(200, 100%, 50%, 0.2)",margin:"1em"}},[n("pre",[e._v(e._s(e.serialDevice))]),n("pre",[e._v(e._s(e.serialDeviceInt))])]),n("section",[n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"load from server",icon:"sync"},on:{click:function(o){return e.globalConfigLoadFromServer()}}}),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"testDev Night",icon:"sync"},on:{click:function(o){return e.testDev("Night")}}}),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"saveGC 'pos':'99'",icon:"sync"},on:{click:function(o){return e.saveGC("pos","99")}}}),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"saveGC 'pos':'10'",icon:"sync"},on:{click:function(o){return e.saveGC("pos","10")}}}),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"saveGC 'rot':'0째'",icon:"sync"},on:{click:function(o){return e.saveGC("rot","0째")}}}),n("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{label:"saveGC 'rot':'75째'",icon:"sync"},on:{click:function(o){return e.saveGC("rot","75째")}}})],1),n("section",[n("q-input",{attrs:{filled:"",label:"serial device"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",style:{opacity:""!==e.serialDevice?"inherit":"0.1"},attrs:{name:"close"},on:{click:function(o){e.serialDevice="/dev/ttyUSB0"}}})]},proxy:!0}]),model:{value:e.serialDevice,callback:function(o){e.serialDevice=o},expression:"serialDevice"}})],1)])}),[],!1,null,null,null);o.default=p.exports;u()(p,"components",{QPage:l.a,QBtn:a.a,QInput:c.a,QIcon:r.a}),u()(p,"directives",{Ripple:v.a})}}]);
//# sourceMappingURL=6.47d80f4e.js.map